<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
        function createBinaryArray () {
          // 2進数表示用のテキストボックス要素全部とってくる
          let binaryArray = document.querySelectorAll('.binary')
          // 2進数表示用のテキストボックスに0か1をいれる
          binaryArray.forEach(function (el) {
            el.value = getBinary()
          })
        }

        // ランダムに0か1を返す
        function getBinary () {
          let random = Math.random()
          let binary = 0
          if (random > 0.5) {
            binary = 1
          } else {
            binary = 0
          }
          return binary
        }
        
        function checkAnswer () {
          // 答えを変数にいれる
          let answer = binary2Decimal()
          // ユーザが入力した答えを変数に入れる
          let user_answer = document.querySelector('#answer').value
          // 何も入力されてないときは答え合わせしない
          if (user_answer === '') {
            window.alert('回答を入力してください！！！！！')
            return false
          }
          // 数値型にしないと正解と比較できない
          user_answer = Number(user_answer)
          // 答え合わせ
          let result = ''
          if (answer === user_answer) {
            result = '正解！'
            // 次の問題
            init()
          } else {
            result = 'ザンネーン'
          }
          // 結果表示
          document.querySelector('#result').innerHTML = result
        }
        
        // 生成した2進数を10進数に変換して返す
        function binary2Decimal () {
          // 2進数表示用テキストボックス要素を全部とってくる
          let binaryArray = document.querySelectorAll('.binary')
          // 最大次数（4bitなら2の3乗）
          let maxOrder = binaryArray.length - 1
          let decimal = 0
          let order = 0
          binaryArray.forEach(function (el, i) {
            // とってきたテキストボックスは左から順番に0スタートのインデックスがついている（仕様）
            // 最大次数から要素が何番目かを引けばその位は2の何乗かがわかる
            order = maxOrder - i
            // それぞれの位を10進数に直して全部足す
            decimal += el.value * (2 ** order)
          })
          return decimal
        }
        
        function init () {
          // 答えをリセット
          document.querySelector('#answer').value = ''
          // 新しい2進数を表示
          createBinaryArray()
        }
        
        // 最初から2進数を表示しておく
        window.addEventListener('load', function () {
          init()
        })
    </script>
</head>

<body>
  <input type="text" class="binary" disabled="disabled" />
  <input type="text" class="binary" disabled="disabled" />
  <input type="text" class="binary" disabled="disabled" />
  <input type="text" class="binary" disabled="disabled" />
  <button type="button" onclick="createBinaryArray()">Create</button>
  <br />
  <label for="answer">Answer: </label>
  <input type="text" id="answer" />
  <button type="button" onclick="checkAnswer()">Check</button>
  <br />
  <p id="result"></p>
</body>

</html>